<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Markdown Viewer</title>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <style>
    body { font-family: sans-serif; margin: 2em; }
    #content { border: 1px solid #ccc; padding: 1em; background: #fafafa; }
  </style>
</head>
<body>
  <h1>Markdown Viewer</h1>
  <div id="content">Loading...</div>
  <script>
    function getQueryParam(name) {
      const url = new URL(window.location.href);
      return url.searchParams.get(name);
    }
    const mdFile = getQueryParam('md');
    if (mdFile) {
      fetch(`../data/${mdFile}`)
        .then(res => {
          if (!res.ok) throw new Error('Not found');
          return res.text();
        })
        .then(md => {
          document.getElementById('content').innerHTML = marked.parse(md);
        })
        .catch(() => {
          document.getElementById('content').textContent = 'Markdownファイルが見つかりません。';
        });
    } else {
      document.getElementById('content').textContent = 'mdパラメータを指定してください。';
    }
  </script>
</body>
</html>
